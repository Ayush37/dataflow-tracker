{"ast":null,"code":"import React,{memo}from'react';import{Handle,Position}from'reactflow';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StageNode=_ref=>{let{data}=_ref;const getStatusColor=status=>{const colors={'running':'#10b981','completed':'#3b82f6','failed':'#ef4444','pending':'#cbd5e1','error':'#f97316','unknown':'#9ca3af'};return colors[status.toLowerCase()]||colors.unknown;};const getStatusText=status=>{return status?status.toUpperCase():'UNKNOWN';};const getSubStageColor=subStage=>{if(subStage.status){return getStatusColor(subStage.status);}return data.status==='running'?'#3b82f6':'#93c5fd';};return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-md p-3 shadow-md\",style:{backgroundColor:'white',borderWidth:'2px',borderStyle:'solid',borderColor:'#e2e8f0',width:'100%',minHeight:'100px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-md\",children:data.label}),data.subStages&&data.subStages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 mt-2\",children:data.subStages.map((subStage,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"rounded text-xs px-2 py-1 text-white text-center\",style:{backgroundColor:getSubStageColor(subStage)},children:subStage.name},subStage.id||index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full mr-2\",style:{backgroundColor:getStatusColor(data.status)}}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium\",children:getStatusText(data.status)})]}),/*#__PURE__*/_jsx(Handle,{type:\"target\",position:Position.Left}),/*#__PURE__*/_jsx(Handle,{type:\"source\",position:Position.Right})]});};export default/*#__PURE__*/memo(StageNode);","map":{"version":3,"names":["React","memo","Handle","Position","jsx","_jsx","jsxs","_jsxs","StageNode","_ref","data","getStatusColor","status","colors","toLowerCase","unknown","getStatusText","toUpperCase","getSubStageColor","subStage","className","style","backgroundColor","borderWidth","borderStyle","borderColor","width","minHeight","children","label","subStages","length","map","index","name","id","type","position","Left","Right"],"sources":["/root/dataflow-tracker/frontend/src/components/nodes/StageNode.jsx"],"sourcesContent":["import React, { memo } from 'react';\nimport { Handle, Position } from 'reactflow';\n\nconst StageNode = ({ data }) => {\n  const getStatusColor = (status) => {\n    const colors = {\n      'running': '#10b981',\n      'completed': '#3b82f6',\n      'failed': '#ef4444',\n      'pending': '#cbd5e1',\n      'error': '#f97316',\n      'unknown': '#9ca3af'\n    };\n    return colors[status.toLowerCase()] || colors.unknown;\n  };\n  \n  const getStatusText = (status) => {\n    return status ? status.toUpperCase() : 'UNKNOWN';\n  };\n  \n  const getSubStageColor = (subStage) => {\n    if (subStage.status) {\n      return getStatusColor(subStage.status);\n    }\n    \n    return data.status === 'running' ? '#3b82f6' : '#93c5fd';\n  };\n\n  return (\n    <div\n      className=\"rounded-md p-3 shadow-md\"\n      style={{\n        backgroundColor: 'white',\n        borderWidth: '2px',\n        borderStyle: 'solid',\n        borderColor: '#e2e8f0',\n        width: '100%',\n        minHeight: '100px'\n      }}\n    >\n      <div className=\"font-bold text-md\">{data.label}</div>\n      \n      {data.subStages && data.subStages.length > 0 && (\n        <div className=\"flex flex-wrap gap-1 mt-2\">\n          {data.subStages.map((subStage, index) => (\n            <div\n              key={subStage.id || index}\n              className=\"rounded text-xs px-2 py-1 text-white text-center\"\n              style={{ backgroundColor: getSubStageColor(subStage) }}\n            >\n              {subStage.name}\n            </div>\n          ))}\n        </div>\n      )}\n      \n      <div className=\"flex items-center mt-2\">\n        <div\n          className=\"w-3 h-3 rounded-full mr-2\"\n          style={{ backgroundColor: getStatusColor(data.status) }}\n        ></div>\n        <span className=\"text-xs font-medium\">\n          {getStatusText(data.status)}\n        </span>\n      </div>\n      \n      {/* Handles for connections */}\n      <Handle type=\"target\" position={Position.Left} />\n      <Handle type=\"source\" position={Position.Right} />\n    </div>\n  );\n};\n\nexport default memo(StageNode);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,IAAI,KAAQ,OAAO,CACnC,OAASC,MAAM,CAAEC,QAAQ,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACzB,KAAM,CAAAE,cAAc,CAAIC,MAAM,EAAK,CACjC,KAAM,CAAAC,MAAM,CAAG,CACb,SAAS,CAAE,SAAS,CACpB,WAAW,CAAE,SAAS,CACtB,QAAQ,CAAE,SAAS,CACnB,SAAS,CAAE,SAAS,CACpB,OAAO,CAAE,SAAS,CAClB,SAAS,CAAE,SACb,CAAC,CACD,MAAO,CAAAA,MAAM,CAACD,MAAM,CAACE,WAAW,CAAC,CAAC,CAAC,EAAID,MAAM,CAACE,OAAO,CACvD,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIJ,MAAM,EAAK,CAChC,MAAO,CAAAA,MAAM,CAAGA,MAAM,CAACK,WAAW,CAAC,CAAC,CAAG,SAAS,CAClD,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,QAAQ,EAAK,CACrC,GAAIA,QAAQ,CAACP,MAAM,CAAE,CACnB,MAAO,CAAAD,cAAc,CAACQ,QAAQ,CAACP,MAAM,CAAC,CACxC,CAEA,MAAO,CAAAF,IAAI,CAACE,MAAM,GAAK,SAAS,CAAG,SAAS,CAAG,SAAS,CAC1D,CAAC,CAED,mBACEL,KAAA,QACEa,SAAS,CAAC,0BAA0B,CACpCC,KAAK,CAAE,CACLC,eAAe,CAAE,OAAO,CACxBC,WAAW,CAAE,KAAK,CAClBC,WAAW,CAAE,OAAO,CACpBC,WAAW,CAAE,SAAS,CACtBC,KAAK,CAAE,MAAM,CACbC,SAAS,CAAE,OACb,CAAE,CAAAC,QAAA,eAEFvB,IAAA,QAAKe,SAAS,CAAC,mBAAmB,CAAAQ,QAAA,CAAElB,IAAI,CAACmB,KAAK,CAAM,CAAC,CAEpDnB,IAAI,CAACoB,SAAS,EAAIpB,IAAI,CAACoB,SAAS,CAACC,MAAM,CAAG,CAAC,eAC1C1B,IAAA,QAAKe,SAAS,CAAC,2BAA2B,CAAAQ,QAAA,CACvClB,IAAI,CAACoB,SAAS,CAACE,GAAG,CAAC,CAACb,QAAQ,CAAEc,KAAK,gBAClC5B,IAAA,QAEEe,SAAS,CAAC,kDAAkD,CAC5DC,KAAK,CAAE,CAAEC,eAAe,CAAEJ,gBAAgB,CAACC,QAAQ,CAAE,CAAE,CAAAS,QAAA,CAEtDT,QAAQ,CAACe,IAAI,EAJTf,QAAQ,CAACgB,EAAE,EAAIF,KAKjB,CACN,CAAC,CACC,CACN,cAED1B,KAAA,QAAKa,SAAS,CAAC,wBAAwB,CAAAQ,QAAA,eACrCvB,IAAA,QACEe,SAAS,CAAC,2BAA2B,CACrCC,KAAK,CAAE,CAAEC,eAAe,CAAEX,cAAc,CAACD,IAAI,CAACE,MAAM,CAAE,CAAE,CACpD,CAAC,cACPP,IAAA,SAAMe,SAAS,CAAC,qBAAqB,CAAAQ,QAAA,CAClCZ,aAAa,CAACN,IAAI,CAACE,MAAM,CAAC,CACvB,CAAC,EACJ,CAAC,cAGNP,IAAA,CAACH,MAAM,EAACkC,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAElC,QAAQ,CAACmC,IAAK,CAAE,CAAC,cACjDjC,IAAA,CAACH,MAAM,EAACkC,IAAI,CAAC,QAAQ,CAACC,QAAQ,CAAElC,QAAQ,CAACoC,KAAM,CAAE,CAAC,EAC/C,CAAC,CAEV,CAAC,CAED,2BAAetC,IAAI,CAACO,SAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}