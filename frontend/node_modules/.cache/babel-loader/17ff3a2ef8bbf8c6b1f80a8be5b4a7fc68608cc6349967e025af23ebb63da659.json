{"ast":null,"code":"import React from'react';import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StatusPanel=_ref=>{let{flowData,lastUpdated}=_ref;if(!flowData)return null;const getStatusCount=status=>{return flowData.definition.nodes.filter(node=>node.type==='stage'&&node.data.status===status).length;};const totalStages=flowData.definition.nodes.filter(node=>node.type==='stage').length;const statuses={running:getStatusCount('running'),completed:getStatusCount('completed'),failed:getStatusCount('failed'),pending:getStatusCount('pending'),unknown:getStatusCount('unknown')};const getStatusColor=status=>{const colors={'running':'bg-green-500','completed':'bg-blue-500','failed':'bg-red-500','pending':'bg-gray-300','unknown':'bg-gray-500'};return colors[status]||'bg-gray-300';};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-4 mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold mb-3\",children:\"Status Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-5 gap-3 mb-4\",children:Object.entries(statuses).map(_ref2=>{let[status,count]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-3 h-3 rounded-full mr-2 ${getStatusColor(status)}`}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium capitalize\",children:status})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold\",children:count}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[Math.round(count/totalStages*100),\"% of stages\"]})]},status);})}),lastUpdated&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Last updated: \",format(new Date(lastUpdated),'MMM d, yyyy HH:mm:ss')]})]});};export default StatusPanel;","map":{"version":3,"names":["React","format","jsx","_jsx","jsxs","_jsxs","StatusPanel","_ref","flowData","lastUpdated","getStatusCount","status","definition","nodes","filter","node","type","data","length","totalStages","statuses","running","completed","failed","pending","unknown","getStatusColor","colors","className","children","Object","entries","map","_ref2","count","Math","round","Date"],"sources":["/root/dataflow-tracker/frontend/src/components/StatusPanel.jsx"],"sourcesContent":["import React from 'react';\nimport { format } from 'date-fns';\n\nconst StatusPanel = ({ flowData, lastUpdated }) => {\n  if (!flowData) return null;\n\n  const getStatusCount = (status) => {\n    return flowData.definition.nodes.filter(\n      node => node.type === 'stage' && node.data.status === status\n    ).length;\n  };\n\n  const totalStages = flowData.definition.nodes.filter(\n    node => node.type === 'stage'\n  ).length;\n\n  const statuses = {\n    running: getStatusCount('running'),\n    completed: getStatusCount('completed'),\n    failed: getStatusCount('failed'),\n    pending: getStatusCount('pending'),\n    unknown: getStatusCount('unknown')\n  };\n\n  const getStatusColor = (status) => {\n    const colors = {\n      'running': 'bg-green-500',\n      'completed': 'bg-blue-500',\n      'failed': 'bg-red-500',\n      'pending': 'bg-gray-300',\n      'unknown': 'bg-gray-500'\n    };\n    return colors[status] || 'bg-gray-300';\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow p-4 mb-4\">\n      <h2 className=\"text-lg font-bold mb-3\">Status Summary</h2>\n      <div className=\"grid grid-cols-2 sm:grid-cols-5 gap-3 mb-4\">\n        {Object.entries(statuses).map(([status, count]) => (\n          <div key={status} className=\"bg-gray-50 p-3 rounded-md\">\n            <div className=\"flex items-center mb-1\">\n              <div className={`w-3 h-3 rounded-full mr-2 ${getStatusColor(status)}`}></div>\n              <span className=\"text-sm font-medium capitalize\">{status}</span>\n            </div>\n            <div className=\"text-xl font-bold\">{count}</div>\n            <div className=\"text-xs text-gray-500\">\n              {Math.round((count / totalStages) * 100)}% of stages\n            </div>\n          </div>\n        ))}\n      </div>\n      \n      {lastUpdated && (\n        <div className=\"text-sm text-gray-500\">\n          Last updated: {format(new Date(lastUpdated), 'MMM d, yyyy HH:mm:ss')}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default StatusPanel;      \n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,MAAM,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAAAF,IAAA,CAC5C,GAAI,CAACC,QAAQ,CAAE,MAAO,KAAI,CAE1B,KAAM,CAAAE,cAAc,CAAIC,MAAM,EAAK,CACjC,MAAO,CAAAH,QAAQ,CAACI,UAAU,CAACC,KAAK,CAACC,MAAM,CACrCC,IAAI,EAAIA,IAAI,CAACC,IAAI,GAAK,OAAO,EAAID,IAAI,CAACE,IAAI,CAACN,MAAM,GAAKA,MACxD,CAAC,CAACO,MAAM,CACV,CAAC,CAED,KAAM,CAAAC,WAAW,CAAGX,QAAQ,CAACI,UAAU,CAACC,KAAK,CAACC,MAAM,CAClDC,IAAI,EAAIA,IAAI,CAACC,IAAI,GAAK,OACxB,CAAC,CAACE,MAAM,CAER,KAAM,CAAAE,QAAQ,CAAG,CACfC,OAAO,CAAEX,cAAc,CAAC,SAAS,CAAC,CAClCY,SAAS,CAAEZ,cAAc,CAAC,WAAW,CAAC,CACtCa,MAAM,CAAEb,cAAc,CAAC,QAAQ,CAAC,CAChCc,OAAO,CAAEd,cAAc,CAAC,SAAS,CAAC,CAClCe,OAAO,CAAEf,cAAc,CAAC,SAAS,CACnC,CAAC,CAED,KAAM,CAAAgB,cAAc,CAAIf,MAAM,EAAK,CACjC,KAAM,CAAAgB,MAAM,CAAG,CACb,SAAS,CAAE,cAAc,CACzB,WAAW,CAAE,aAAa,CAC1B,QAAQ,CAAE,YAAY,CACtB,SAAS,CAAE,aAAa,CACxB,SAAS,CAAE,aACb,CAAC,CACD,MAAO,CAAAA,MAAM,CAAChB,MAAM,CAAC,EAAI,aAAa,CACxC,CAAC,CAED,mBACEN,KAAA,QAAKuB,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClD1B,IAAA,OAAIyB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC1D1B,IAAA,QAAKyB,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACxDC,MAAM,CAACC,OAAO,CAACX,QAAQ,CAAC,CAACY,GAAG,CAACC,KAAA,MAAC,CAACtB,MAAM,CAAEuB,KAAK,CAAC,CAAAD,KAAA,oBAC5C5B,KAAA,QAAkBuB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACrDxB,KAAA,QAAKuB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrC1B,IAAA,QAAKyB,SAAS,CAAE,6BAA6BF,cAAc,CAACf,MAAM,CAAC,EAAG,CAAM,CAAC,cAC7ER,IAAA,SAAMyB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAAElB,MAAM,CAAO,CAAC,EAC7D,CAAC,cACNR,IAAA,QAAKyB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEK,KAAK,CAAM,CAAC,cAChD7B,KAAA,QAAKuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EACnCM,IAAI,CAACC,KAAK,CAAEF,KAAK,CAAGf,WAAW,CAAI,GAAG,CAAC,CAAC,aAC3C,EAAK,CAAC,GARER,MASL,CAAC,EACP,CAAC,CACC,CAAC,CAELF,WAAW,eACVJ,KAAA,QAAKuB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,gBACvB,CAAC5B,MAAM,CAAC,GAAI,CAAAoC,IAAI,CAAC5B,WAAW,CAAC,CAAE,sBAAsB,CAAC,EACjE,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}